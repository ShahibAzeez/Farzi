<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>2048 Game</title>
  <style>
    /* Mobile and Android optimization */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      background-color: #d3e8f7; /* Mind relaxing color (light blue) */
      overflow: hidden;
      flex-direction: column;
    }

    .game-container {
      width: 85vmin;
      height: 85vmin;
      background-color: #bbada0;
      border-radius: 10px;
      padding: 15px;
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      grid-gap: 15px;
      position: relative;
      box-shadow: 0 10px 15px rgba(0, 0, 0, 0.2);
      transition: all 0.3s ease;
    }

    .tile {
      width: 100%;
      height: 100%;
      background-color: #cdc1b4;
      border-radius: 5px;
      display: flex;
      justify-content: center;
      align-items: center;
      font-size: 24px;
      font-weight: bold;
      color: #776e65;
      transition: transform 0.3s ease, background-color 0.3s ease;
    }

    /* Tile colors */
    .tile[data-value="2"] { background-color: #eee4da; }
    .tile[data-value="4"] { background-color: #ede0c8; }
    .tile[data-value="8"] { background-color: #f2b179; color: #f9f6f2; }
    .tile[data-value="16"] { background-color: #f59563; color: #f9f6f2; }
    .tile[data-value="32"] { background-color: #f67c5f; color: #f9f6f2; }
    .tile[data-value="64"] { background-color: #f65e3b; color: #f9f6f2; }
    .tile[data-value="128"] { background-color: #edcf72; color: #f9f6f2; }
    .tile[data-value="256"] { background-color: #edcc61; color: #f9f6f2; }
    .tile[data-value="512"] { background-color: #edc850; color: #f9f6f2; }
    .tile[data-value="1024"] { background-color: #edc53f; color: #f9f6f2; }
    .tile[data-value="2048"] { background-color: #edc22e; color: #f9f6f2; }
    .tile[data-value="4096"] { background-color: #3c3a32; color: #f9f6f2; }

    /* Score and High Score */
    .score-container {
      position: absolute;
      top: 15px;
      width: 100%;
      display: flex;
      justify-content: space-between;
      color: #776e65;
      font-size: 18px;
      font-weight: bold;
    }

    .score-container div {
      padding: 5px 10px;
      background-color: rgba(255, 255, 255, 0.7);
      border-radius: 5px;
    }

    /* Pop-up styles */
    .popup {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background-color: #fff;
      border-radius: 10px;
      padding: 30px;
      text-align: center;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.3s ease, visibility 0.3s ease;
    }

    .popup.active {
      opacity: 1;
      visibility: visible;
    }

    #startPopup {
      animation: popupIn 0.5s ease-out;
    }

    #gameOverPopup {
      animation: popupIn 0.5s ease-out;
    }

    @keyframes popupIn {
      0% {
        transform: translate(-50%, -60%);
        opacity: 0;
      }
      100% {
        transform: translate(-50%, -50%);
        opacity: 1;
      }
    }

    /* Buttons */
    .popup button {
      background-color: #f2b179;
      border: none;
      padding: 10px 20px;
      font-size: 18px;
      border-radius: 5px;
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    .popup button:hover {
      background-color: #f59563;
    }

    .footer {
      position: absolute;
      bottom: 20px;
      width: 100%;
      text-align: center;
      font-size: 14px;
      color: #bbb;
    }

  </style>
</head>
<body>
  <div class="score-container">
    <div id="currentScore">Score: 0</div>
    <div id="highScore">High Score: 0</div>
  </div>

  <div class="game-container" id="game-container"></div>

  <!-- Start Pop-up -->
  <div id="startPopup" class="popup">
    <h2>Let's Play!</h2>
    <button>Start Game</button>
  </div>

  <!-- Game Over Pop-up -->
  <div id="gameOverPopup" class="popup">
    <h2>Game Over</h2>
    <p>Your Score: <span id="finalScore">0</span></p>
    <button>Restart</button>
  </div>
    <div class="footer">
<div class="footer">
  <div class="click-here">Click Here</div>
      <div class="arrow">⬇️</div>
Developed by 
<b>
<a href="https://www.instagram.com/shahib_azeez?igsh=MXFrcjN5NXBocWx5Mw==" target="_blank" style="color: inherit; text-decoration: none;">Sʜᴀʜɪʙ Mᴇᴡᴀᴛɪ</a>
</b>
</div>

  <script>
    const gameContainer = document.getElementById("game-container");
    const currentScoreElement = document.getElementById("currentScore");
    const highScoreElement = document.getElementById("highScore");
    const finalScoreElement = document.getElementById("finalScore");

    const startPopup = document.getElementById("startPopup");
    const gameOverPopup = document.getElementById("gameOverPopup");

    let board = [
      [0, 0, 0, 0],
      [0, 0, 0, 0],
      [0, 0, 0, 0],
      [0, 0, 0, 0],
    ];

    let score = 0;
    let highScore = localStorage.getItem("highScore") || 0;

    function updateScores() {
      currentScoreElement.textContent = `Score: ${score}`;
      highScoreElement.textContent = `High Score: ${highScore}`;
    }

    function addRandomTile() {
      let emptyTiles = [];
      for (let row = 0; row < 4; row++) {
        for (let col = 0; col < 4; col++) {
          if (board[row][col] === 0) {
            emptyTiles.push({ row, col });
          }
        }
      }

      if (emptyTiles.length > 0) {
        const { row, col } = emptyTiles[Math.floor(Math.random() * emptyTiles.length)];
        board[row][col] = Math.random() < 0.9 ? 2 : 4;
      }
    }

    function renderBoard() {
      gameContainer.innerHTML = "";
      for (let row = 0; row < 4; row++) {
        for (let col = 0; col < 4; col++) {
          const tile = document.createElement("div");
          tile.className = "tile";
          if (board[row][col] !== 0) {
            tile.textContent = board[row][col];
            tile.dataset.value = board[row][col];
          }
          gameContainer.appendChild(tile);
        }
      }
    }

    function combineRow(row) {
      let newRow = row.filter(val => val !== 0);
      for (let i = 0; i < newRow.length - 1; i++) {
        if (newRow[i] === newRow[i + 1]) {
          newRow[i] *= 2;
          newRow[i + 1] = 0;
          score += newRow[i];
        }
      }
      return newRow.filter(val => val !== 0).concat(new Array(4 - newRow.filter(val => val !== 0).length).fill(0));
    }

    function move(direction) {
      let rotated = false;

      if (direction === "up" || direction === "down") {
        board = board[0].map((_, col) => board.map(row => row[col]));
        rotated = true;
      }

      if (direction === "down" || direction === "right") {
        board = board.map(row => row.reverse());
      }

      board = board.map(row => combineRow(row));

      if (direction === "down" || direction === "right") {
        board = board.map(row => row.reverse());
      }

      if (rotated) {
        board = board[0].map((_, col) => board.map(row => row[col]));
      }

      addRandomTile();
      renderBoard();
      updateScores();
      checkGameOver();
    }

    function checkGameOver() {
      const isFull = board.every(row => row.every(val => val !== 0));
      if (isFull) {
        gameOver();
      }
    }

    function gameOver() {
      if (score > highScore) {
        highScore = score;
        localStorage.setItem("highScore", highScore);
      }

      finalScoreElement.textContent = score;
      gameOverPopup.classList.add("active");
    }

    // Touch controls
    let touchStartX, touchStartY;

    document.addEventListener("touchstart", (e) => {
      touchStartX = e.touches[0].clientX;
      touchStartY = e.touches[0].clientY;
    });

    document.addEventListener("touchend", (e) => {
      const touchEndX = e.changedTouches[0].clientX;
      const touchEndY = e.changedTouches[0].clientY;

      const diffX = touchEndX - touchStartX;
      const diffY = touchEndY - touchStartY;

      if (Math.abs(diffX) > Math.abs(diffY)) {
        if (diffX > 0) move("right");
        else move("left");
      } else {
        if (diffY > 0) move("down");
        else move("up");
      }
    });

    // Start the game when the button is clicked
    document.querySelector("#startPopup button").addEventListener("click", () => {
      startPopup.classList.remove("active");
      addRandomTile();
      addRandomTile();
      renderBoard();
      updateScores();
    });

    // Restart the game
    document.querySelector("#gameOverPopup button").addEventListener("click", () => {
      board = [
        [0, 0, 0, 0],
        [0, 0, 0, 0],
        [0, 0, 0, 0],
        [0, 0, 0, 0],
      ];
      score = 0;
      updateScores();
      gameOverPopup.classList.remove("active");
      addRandomTile();
      addRandomTile();
      renderBoard();
    });

    window.onload = () => {
      startPopup.classList.add("active");
      navigator.vibrate && navigator.vibrate([500]);  // Vibration on start
    };
  </script>
</body>
</html>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8639711686131039"
     crossorigin="anonymous"></script>